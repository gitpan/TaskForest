<include TaskForest::REST::PassThrough /head.html />

<include TaskForest::REST::PassThrough /head_docs.html />

<div class="width6 last">
  <div class="section_header">HOWTO</div>

  <ul>
    <li><a href="#cron">Run taskforest all day with cron</a></li>
    <li><a href="#genpasswd">Allow a user to view the web site</a></li>
    <li><a href="#start">Start the web server</a></li>
    <li><a href="#stop">Stop the web server</a></li>
    <li><a href="#cert">Create a self-signed certificate with openssl</a></li>
  </ul>

  <div class="new_section_header"><a name="cron">Run taskforest all day with cron</a></div>

  <p>
    This is the kind of line I have in my crontab:
  </p>

  <div class="code"><pre><code>02 00 * * * /a/b/taskforest --config_file=/b/c/taskforest.cfg</code></pre></div>

  <div class="new_section_header"><a name="genpasswd">Allow a user to view the web site</a></div>

  <p>
    Please make sure you read the section
    entitled <a href="/docs/webSecurity.html">"Web Server Security"</a>
    for important security considerations.
  </p>

  <p>
    Having said that, : The userids and passwords are specified in the
    <a href="/docs/runningTaskForestd.html#config_file">configuration
    file</a> using the same format as Apache's .htpasswd files. You can
    see <a href="/docs/runningTaskForestd.html#valid_user">commented-out
    examples</a> of this in the configuration
    file <a href="/docs/runningTaskForestd.html#config_file">taskforestd.cfg</a>. For
    your convenience, the TaskForest distribution includes a program
    called <code>gen_passwd</code> that generates text that you can copy
    and paste into the config file:
  </p>
  
  <div class="code"><pre><code>gen_passwd foo bar</code></pre></div>

  <p>
    The above command will print out somthing that looks like the
    following;
  </p>

  <div class="code"><pre><code>foo:4poVZGiAlO1BY</code></pre></div>

  <p>
    This text can then be copied and pasted into the configuration file.
  </p>

  <p>
    Make sure you stop the server and restart it after making any changes
    to the configuration file.
  </p>

  <div class="new_section_header"><a name="start">Start the web server</a></div>

  <p>
    To start the web server, run the taskforestd program with
    the <code>--config_file</code> and <code>--start</code> options. For
    example:
  </p>

  <div class="code"><pre><code>taskforestd --config_file=taskforestd.cfg --stop
        
OR
        
taskforestdssl --config_file=taskforestd.cfg --stop</code></pre></div>
  

  <div class="new_section_header"><a name="stop">Stop the web server</a></div>

  <p>
    To stop the web server, run the <code>taskforestd</code> program
    with the <code>--config_file</code> and <code>--stop</code>
    options. For example:
  </p>

  <div class="code"><pre><code>taskforestd --config_file=taskforestd.cfg --stop

OR
        
taskforestdssl --config_file=taskforestd.cfg --stop</code></pre></div>

  <div class="new_section_header"><a name="cert">Create a self-signed certificate with openssl</a></div>

  <p>
    This is what works for me (instructions found at <a href="http://www.modssl.org/docs/2.8/ssl_faq.html#ToC25">http://www.modssl.org/docs/2.8/ssl_faq.html#ToC25</a> ).
  </p>

<div class="code"><pre><code>
1) Create a server key

openssl genrsa -des3 -out server.key.en 1024

2) Make a decrypted version of it

openssl rsa -in server.key.en -out server-key.pem

3) Create a CSR (Certificate Signing Request)

openssl req -new -key server-key.pem -out server.csr

4) Create a CA Private Key

openssl genrsa -des3 -out ca.key.en 1024

5) Create a decrypted version of it

openssl rsa -in ca.key.en -out ca.key

6) Create a 10-yr self-signed CA cert with the CA key

openssl req -new -x509 -days 3650 -key ca.key -out my-ca.pem

7) Sign the CSR

sign.sh server.csr

   The sign.sh program can be found in the
   pkg.contrib/ subdirectory of the mod_ssl
   distribution.  It is not clear whether or not I
   can include that script in this distribution,
   so for now at least, you'll have to use your
   own copy.  Make sure you specify the locations
   of the files in the taskforestd configuration
   file.
    </code></pre></div>

</div>
<div class="clear_both"></div>


<include TaskForest::REST::PassThrough /foot.html />
